#!/bin/bash
# Obtenir le répertoire du script de manière plus robuste
SCRIPT_DIR="$(cd "$(dirname "${BASH_SOURCE[0]}")" && pwd)"

# Utiliser l'environnement virtuel Python si disponible
if [[ -f "$SCRIPT_DIR/.venv/bin/python" ]]; then
    PYTHON_CMD="$SCRIPT_DIR/.venv/bin/python"
elif command -v python3 &> /dev/null; then
    PYTHON_CMD="python3"
else
    echo "Erreur: python3 n'est pas installé ou n'est pas dans le PATH"
    exit 1
fi

# Vérifier que le script Python existe
if [[ ! -f "$SCRIPT_DIR/scripts/cli_linux.py" ]]; then
    echo "Erreur: $SCRIPT_DIR/scripts/cli_linux.py n'existe pas"
    exit 1
fi

# Exécuter le script Python avec tous les arguments
"$PYTHON_CMD" "$SCRIPT_DIR/scripts/cli_linux.py" "$@"