#!/bin/bash
# Get script directory in a more robust way
SCRIPT_DIR="$(cd "$(dirname "${BASH_SOURCE[0]}")" && pwd)"

# Use Python virtual environment if available
if [[ -f "$SCRIPT_DIR/.venv/bin/python" ]]; then
    PYTHON_CMD="$SCRIPT_DIR/.venv/bin/python"
elif command -v python3 &> /dev/null; then
    PYTHON_CMD="python3"
else
    echo "Error: python3 is not installed or not in PATH"
    exit 1
fi

# Check that the Python script exists
if [[ ! -f "$SCRIPT_DIR/src/phobos/scripts/cli.py" ]]; then
    echo "Error: $SCRIPT_DIR/src/phobos/scripts/cli.py does not exist"
    exit 1
fi

# Execute the Python script with all arguments
"$PYTHON_CMD" "$SCRIPT_DIR/src/phobos/scripts/cli.py" "$@"
